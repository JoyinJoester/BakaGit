# BakaGit å¼€å‘è€…æ–‡æ¡£

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### ç›®å½•ç»“æ„
```
BakaGit/
â”œâ”€â”€ src/bakagit/           # ä¸»è¦æºä»£ç 
â”‚   â”œâ”€â”€ __init__.py        # åŒ…åˆå§‹åŒ–
â”‚   â”œâ”€â”€ main.py           # åº”ç”¨ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ core/             # æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ git_manager.py    # Gitæ“ä½œç®¡ç†
â”‚   â”‚   â”œâ”€â”€ config.py         # é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ utils.py          # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ gui/              # å›¾å½¢ç•Œé¢æ¨¡å—
â”‚       â”œâ”€â”€ main_window.py    # ä¸»çª—å£
â”‚       â”œâ”€â”€ dialogs/          # å¯¹è¯æ¡†
â”‚       â””â”€â”€ widgets/          # è‡ªå®šä¹‰ç»„ä»¶
â”œâ”€â”€ docs/                 # æ–‡æ¡£
â”œâ”€â”€ tests/                # æµ‹è¯•ç”¨ä¾‹
â”œâ”€â”€ requirements.txt      # ä¾èµ–åˆ—è¡¨
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜
```

### æŠ€æœ¯æ ˆ
- **ç•Œé¢æ¡†æ¶**ï¼šPyQt6 6.9.1
- **Gitæ“ä½œ**ï¼šGitPython 3.1.45
- **é…ç½®ç®¡ç†**ï¼šPyYAML 6.0.2
- **Pythonç‰ˆæœ¬**ï¼š3.8+

## ğŸ§© æ ¸å¿ƒæ¨¡å—

### GitManager (core/git_manager.py)
Gitæ“ä½œçš„æ ¸å¿ƒç±»ï¼Œæä¾›æ‰€æœ‰Gitç›¸å…³åŠŸèƒ½ã€‚

**ä¸»è¦æ–¹æ³•ï¼š**
- `load_repository(path)` - åŠ è½½Gitä»“åº“
- `get_status()` - è·å–ä»“åº“çŠ¶æ€
- `commit(message)` - æäº¤æ›´æ”¹
- `create_branch(name)` - åˆ›å»ºåˆ†æ”¯
- `switch_branch(name)` - åˆ‡æ¢åˆ†æ”¯
- `push_to_remote()` - æ¨é€åˆ°è¿œç¨‹
- `pull_from_remote()` - ä»è¿œç¨‹æ‹‰å–

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```python
from bakagit.core.git_manager import GitManager

git_manager = GitManager()
if git_manager.load_repository("/path/to/repo"):
    status = git_manager.get_status()
    print(f"å½“å‰åˆ†æ”¯: {status['current_branch']}")
```

### ConfigManager (core/config.py)
é…ç½®ç®¡ç†ç±»ï¼Œå¤„ç†åº”ç”¨ç¨‹åºè®¾ç½®çš„å­˜å‚¨å’Œè¯»å–ã€‚

**ä¸»è¦æ–¹æ³•ï¼š**
- `get(key, default)` - è·å–é…ç½®å€¼
- `set(key, value)` - è®¾ç½®é…ç½®å€¼
- `save_config()` - ä¿å­˜é…ç½®åˆ°æ–‡ä»¶
- `load_config()` - ä»æ–‡ä»¶åŠ è½½é…ç½®

**é…ç½®æ–‡ä»¶ä½ç½®ï¼š**
- Windows: `%APPDATA%/BakaGit/config.yaml`
- Linux/Mac: `~/.config/BakaGit/config.yaml`

### MainWindow (gui/main_window.py)
åº”ç”¨ç¨‹åºçš„ä¸»çª—å£ï¼Œé›†æˆäº†æ‰€æœ‰åŠŸèƒ½ç•Œé¢ã€‚

**ä¸»è¦ç»„ä»¶ï¼š**
- å·¦ä¾§é¢æ¿ï¼šä»“åº“åˆ—è¡¨
- å³ä¾§é¢æ¿ï¼šåŠŸèƒ½æ ‡ç­¾é¡µ
- èœå•æ ï¼šä¸»è¦æ“ä½œå…¥å£
- çŠ¶æ€æ ï¼šçŠ¶æ€ä¿¡æ¯æ˜¾ç¤º

## ğŸ¨ ç•Œé¢è®¾è®¡

### æ ·å¼ç³»ç»Ÿ
BakaGitä½¿ç”¨æ·±è‰²ä¸»é¢˜ï¼Œæä¾›ç°ä»£åŒ–çš„ç”¨æˆ·ä½“éªŒã€‚

**ä¸»è¦é¢œè‰²ï¼š**
- èƒŒæ™¯è‰²ï¼š`#1e1e1e`
- å‰æ™¯è‰²ï¼š`#ffffff`
- å¼ºè°ƒè‰²ï¼š`#0078d4`
- è¾¹æ¡†è‰²ï¼š`#404040`

### ç»„ä»¶è§„èŒƒ
- æŒ‰é’®ï¼šåœ†è§’8pxï¼Œæœ€å°é«˜åº¦40px
- åˆ—è¡¨é¡¹ï¼šæ‚¬åœæ•ˆæœï¼Œé€‰ä¸­é«˜äº®
- è¾“å…¥æ¡†ï¼šç»Ÿä¸€çš„è¾¹æ¡†å’Œå†…è¾¹è·
- å›¾æ ‡ï¼šEmojiå›¾æ ‡ï¼Œç›´è§‚æ˜“æ‡‚

## ğŸ”§ å¼€å‘ç¯å¢ƒæ­å»º

### ç¯å¢ƒè¦æ±‚
```bash
Python 3.8+
pip (åŒ…ç®¡ç†å™¨)
```

### å®‰è£…ä¾èµ–
```bash
# å®‰è£…æ ¸å¿ƒä¾èµ–
pip install -r requirements.txt

# å¼€å‘ä¾èµ–ï¼ˆå¯é€‰ï¼‰
pip install pytest black flake8
```

### è¿è¡Œåº”ç”¨
```bash
# å¼€å‘æ¨¡å¼è¿è¡Œ
python -m src.bakagit.main

# æˆ–ä½¿ç”¨å…¥å£è„šæœ¬
python run.py
```

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python -m pytest tests/

# è¿è¡Œç‰¹å®šæµ‹è¯•
python tests/test_git_manager.py
```

## ğŸ“ ç¼–ç è§„èŒƒ

### Pythonä»£ç é£æ ¼
- éµå¾ªPEP 8è§„èŒƒ
- ä½¿ç”¨ç±»å‹æç¤º
- å‡½æ•°å’Œç±»éƒ½è¦æœ‰æ–‡æ¡£å­—ç¬¦ä¸²
- å˜é‡å’Œå‡½æ•°åä½¿ç”¨snake_case
- ç±»åä½¿ç”¨PascalCase

### ç¤ºä¾‹ä»£ç 
```python
from typing import Optional, List

class ExampleClass:
    """ç¤ºä¾‹ç±»çš„è¯´æ˜"""
    
    def __init__(self, name: str) -> None:
        """åˆå§‹åŒ–æ–¹æ³•
        
        Args:
            name: åç§°å‚æ•°
        """
        self.name = name
    
    def get_items(self, count: Optional[int] = None) -> List[str]:
        """è·å–é¡¹ç›®åˆ—è¡¨
        
        Args:
            count: å¯é€‰çš„æ•°é‡é™åˆ¶
            
        Returns:
            é¡¹ç›®åˆ—è¡¨
        """
        # å®ç°é€»è¾‘
        return []
```

### Gitæäº¤è§„èŒƒ
```
ç±»å‹(èŒƒå›´): ç®€çŸ­æè¿°

è¯¦ç»†æè¿°ï¼ˆå¯é€‰ï¼‰

ç›¸å…³é—®é¢˜ï¼š#123
```

**æäº¤ç±»å‹ï¼š**
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºæˆ–è¾…åŠ©å·¥å…·

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### æµ‹è¯•ç»“æ„
```
tests/
â”œâ”€â”€ test_git_manager.py      # Gitæ“ä½œæµ‹è¯•
â”œâ”€â”€ test_config.py           # é…ç½®ç®¡ç†æµ‹è¯•
â”œâ”€â”€ test_main_window.py      # ç•Œé¢åŠŸèƒ½æµ‹è¯•
â””â”€â”€ fixtures/                # æµ‹è¯•æ•°æ®
```

### æµ‹è¯•ç”¨ä¾‹ç¼–å†™
```python
import pytest
from bakagit.core.git_manager import GitManager

class TestGitManager:
    """GitManageræµ‹è¯•ç±»"""
    
    def setup_method(self):
        """æ¯ä¸ªæµ‹è¯•æ–¹æ³•å‰çš„è®¾ç½®"""
        self.git_manager = GitManager()
    
    def test_load_repository_success(self):
        """æµ‹è¯•æˆåŠŸåŠ è½½ä»“åº“"""
        # æµ‹è¯•é€»è¾‘
        assert True
    
    def test_load_repository_failure(self):
        """æµ‹è¯•åŠ è½½ä»“åº“å¤±è´¥"""
        # æµ‹è¯•é€»è¾‘
        assert True
```

### æµ‹è¯•è¦†ç›–ç‡
ç›®æ ‡è¾¾åˆ°80%ä»¥ä¸Šçš„ä»£ç è¦†ç›–ç‡ã€‚ä½¿ç”¨pytest-covç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Šï¼š

```bash
pip install pytest-cov
pytest --cov=src/bakagit tests/
```

## ğŸš€ æ„å»ºå’Œå‘å¸ƒ

### æ‰“åŒ…åº”ç”¨
```bash
# å®‰è£…æ‰“åŒ…å·¥å…·
pip install pyinstaller

# åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶
pyinstaller --onefile --windowed src/bakagit/main.py
```

### ç‰ˆæœ¬ç®¡ç†
ç‰ˆæœ¬å·æ ¼å¼ï¼š`ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬`

æ›´æ–°ç‰ˆæœ¬ï¼š
1. ä¿®æ”¹`src/bakagit/__init__.py`ä¸­çš„`__version__`
2. æ›´æ–°`README.md`ä¸­çš„ç‰ˆæœ¬ä¿¡æ¯
3. åˆ›å»ºGitæ ‡ç­¾ï¼š`git tag v1.0.0`

### å‘å¸ƒæ¸…å•
- [ ] è¿è¡Œæ‰€æœ‰æµ‹è¯•
- [ ] æ›´æ–°ç‰ˆæœ¬å·
- [ ] æ›´æ–°æ–‡æ¡£
- [ ] åˆ›å»ºå‘å¸ƒåŒ…
- [ ] åˆ›å»ºGitæ ‡ç­¾
- [ ] å‘å¸ƒåˆ°GitHub

## ğŸ› è°ƒè¯•æŠ€å·§

### æ—¥å¿—ç³»ç»Ÿ
BakaGitä½¿ç”¨Pythonçš„loggingæ¨¡å—è¿›è¡Œæ—¥å¿—è®°å½•ã€‚

```python
import logging

# é…ç½®æ—¥å¿—
logging.basicConfig(
    level=logging.DEBUG,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)

logger = logging.getLogger(__name__)
logger.debug("è°ƒè¯•ä¿¡æ¯")
```

### å¸¸è§é—®é¢˜
1. **PyQt6å¯¼å…¥é”™è¯¯**ï¼šç¡®ä¿æ­£ç¡®å®‰è£…PyQt6
2. **Gitå‘½ä»¤å¤±è´¥**ï¼šæ£€æŸ¥Gitæ˜¯å¦åœ¨PATHä¸­
3. **é…ç½®æ–‡ä»¶é—®é¢˜**ï¼šæ£€æŸ¥é…ç½®æ–‡ä»¶æ ¼å¼å’Œæƒé™

### è°ƒè¯•å·¥å…·
- **PyQt6è°ƒè¯•**ï¼šä½¿ç”¨`QApplication.exec_()`çš„è¿”å›å€¼
- **Gitæ“ä½œè°ƒè¯•**ï¼šæŸ¥çœ‹GitPythonçš„å¼‚å¸¸ä¿¡æ¯
- **ç•Œé¢è°ƒè¯•**ï¼šä½¿ç”¨Qt DesigneræŸ¥çœ‹ç•Œé¢ç»“æ„

## ğŸ¤ è´¡çŒ®æŒ‡å—

### è´¡çŒ®æµç¨‹
1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/æ–°åŠŸèƒ½`
3. æäº¤æ›´æ”¹ï¼š`git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/æ–°åŠŸèƒ½`
5. åˆ›å»ºPull Request

### ä»£ç å®¡æŸ¥
- ç¡®ä¿ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ
- æ·»åŠ å¿…è¦çš„æµ‹è¯•ç”¨ä¾‹
- æ›´æ–°ç›¸å…³æ–‡æ¡£
- é€šè¿‡æ‰€æœ‰CIæ£€æŸ¥

### é—®é¢˜æŠ¥å‘Š
ä½¿ç”¨GitHub IssuesæŠ¥å‘Šbugæˆ–è¯·æ±‚åŠŸèƒ½ï¼š
- æä¾›è¯¦ç»†çš„é‡ç°æ­¥éª¤
- åŒ…å«é”™è¯¯ä¿¡æ¯å’Œæ—¥å¿—
- è¯´æ˜é¢„æœŸè¡Œä¸ºå’Œå®é™…è¡Œä¸º
- æä¾›ç³»ç»Ÿç¯å¢ƒä¿¡æ¯

## ğŸ“š æ‰©å±•å¼€å‘

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨`core/`ä¸­æ·»åŠ æ ¸å¿ƒé€»è¾‘
2. åœ¨`gui/`ä¸­æ·»åŠ ç•Œé¢ç»„ä»¶
3. åœ¨ä¸»çª—å£ä¸­é›†æˆåŠŸèƒ½
4. æ·»åŠ ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹
5. æ›´æ–°æ–‡æ¡£

### æ’ä»¶ç³»ç»Ÿï¼ˆè®¡åˆ’ä¸­ï¼‰
æœªæ¥ç‰ˆæœ¬å°†æ”¯æŒæ’ä»¶ç³»ç»Ÿï¼Œå…è®¸å¼€å‘è€…æ‰©å±•BakaGitçš„åŠŸèƒ½ã€‚

### APIæ–‡æ¡£
è¯¦ç»†çš„APIæ–‡æ¡£å°†åœ¨æœªæ¥ç‰ˆæœ¬ä¸­æä¾›ï¼ŒåŒ…æ‹¬æ‰€æœ‰å…¬å…±æ¥å£çš„è¯´æ˜ã€‚

---

**æ¬¢è¿å‚ä¸BakaGitçš„å¼€å‘ï¼** ä»»ä½•è´¡çŒ®éƒ½æ˜¯å®è´µçš„ã€‚
